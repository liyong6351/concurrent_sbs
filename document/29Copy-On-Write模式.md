# 概览

在Java类中的replace()方法的实现逻辑是新创建一个字符串，解决不可变对象的修改。  
其实本质就是一个Copy-On-Write的设计模式，也就是写时复制  
不可变对象几乎都是采用的写时复制的解决方案，但是写时复制不仅仅使用于不可变对象

## 1 Copy-on-Write模式的应用领域

1、 JDK的CopyOnWriteArrayList和CopyOnWriteArraySet，以空间换时间
2、 操作系统领域，比如fork()操作，这更多提现了延时策略，只有在真正需要的  
时候才复制，而不是复制好使用
3、 Docker容器的镜像设计
4、 Github背后的设计思路
5、 最大的应用领域是函数式编程领域

<pre>
函数式编程的基础就是不可变性，所以函数式编程中的所有修改都需要Copy-on-Write  
来解决，但是问题就是带来一定的内存需求，但是基于当前内存越来越大，这个问题在一定  
程度上是可以避免的
</pre>